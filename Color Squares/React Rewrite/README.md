A partial rewrite using React.
